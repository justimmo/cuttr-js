/*!
 * Cuttr 1.4.1
 * https://github.com/d-e-v-s-k/cuttr-js
 *
 * @license GPLv3 for open source use only
 * or Cuttr Commercial License for commercial use
 * https://cuttr.kulahs.de/pricing/
 *
 * Copyright (C) 2022 https://cuttr.kulahs.de/ - A project by DEVSK
 **/
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Cuttr=e()}(this,function(){var c=!0;return function t(e,n){"use strict";var g=Object.create(t.prototype);g.options={elementsToTruncate:"string"==typeof e?document.querySelectorAll(e):e,originalContent:[],contentVisibilityState:[],contentTruncationState:[],truncate:"characters",length:100,ending:"...",loadedClass:"cuttr--loaded",title:!1,readMore:!1,readMoreText:"read more",readLessText:"read less",readMoreBtnPosition:"after",readMoreBtnTag:"button",readMoreBtnSelectorClass:"cuttr__readmore",readMoreBtnAdditionalClasses:"",afterTruncate:function(){},afterExpand:function(){},dataIndex:"data-cuttr-index"},n&&Object.keys(n).forEach(function(t){g.options[t]=n[t]});function f(t,e,n,o){var i=t.dataset.cuttrIndex;switch(null==n&&(n=100),null==o&&(o="..."),t.dataset.cuttrMethod||g.options.truncate){case"characters":return e.length>n?(g.options.contentTruncationState[i]=!0,g.options.contentVisibilityState[i]=!1,e.substring(0,n-o.length)+o+" "):e;case"words":var r=e.split(/ (?=[^>]*(?:<|$))/);return r.length>n?(g.options.contentTruncationState[i]=!0,g.options.contentVisibilityState[i]=!1,r.splice(0,n).join(" ")+" "+o+" "):e;case"sentences":r=null!=(r=e.match(/[^\.!\:\?]+[\.!\:\?]+/g))?r:[];return r.length>n?(g.options.contentTruncationState[i]=!0,g.options.contentVisibilityState[i]=!1,r.splice(0,n).join(" ")+" "+o+" "):e;default:return e.length>n?(g.options.contentTruncationState[i]=!0,g.options.contentVisibilityState[i]=!1,e.substring(0,n-o.length)+o):e}}function T(t,e){var n,o=t,t=o.dataset.cuttrIndex,i=o.dataset.cuttrReadmore||g.options.readMoreText,r=o.dataset.cuttrReadmore?o.dataset.cuttrReadless:g.options.readLessText,a=o.dataset.cuttrReadmorePosition||g.options.readMoreBtnPosition,s=o.dataset.cuttrReadmoreTag||g.options.readMoreBtnTag,d="."+g.options.readMoreBtnSelectorClass,c=o.dataset.cuttrReadmoreAdditionalClasses||g.options.readMoreBtnAdditionalClasses,r=g.options.contentVisibilityState[t]?r:i,l=" <"+s+' aria-expanded="'+(g.options.contentVisibilityState[t]?"true":"false")+'" class="'+g.options.readMoreBtnSelectorClass+" "+c+'">'+r.replace(/<[^>]*>/g,"")+"</"+s+">";if("after"==a&&o.nextElementSibling?n=o.nextElementSibling.matches(d):"inside"==a&&(n=o.querySelector(d)),!n){switch(a){case"after":o.insertAdjacentHTML("afterend",l);break;case"inside":o.insertAdjacentHTML("beforeend",l);break;default:console.log("no matching read-more button position defined")}e||("after"==a?o.nextElementSibling.addEventListener("click",function(t){t.target&&t.target.classList.contains(g.options.readMoreBtnSelectorClass)&&u(t,a)}):"inside"==a&&o.addEventListener("click",function(t){t.target&&t.target.classList.contains(g.options.readMoreBtnSelectorClass)&&u(t,a)}))}}function u(t,e){var n="after"==e?t.target.previousElementSibling:t.target.parentNode,o=n.innerHTML,i=n.dataset.cuttrIndex,r=n.dataset.cuttrReadmore||g.options.readMoreText,a=n.dataset.cuttrReadmore?n.dataset.cuttrReadless:g.options.readLessText,s=n.dataset.cuttrLength||g.options.length,d=n.dataset.cuttrEnding||g.options.ending;(g.options.contentVisibilityState[i]?(o=f(n,o.trim(),s,d),n.innerHTML=o,g.options.contentVisibilityState[i]=!1,"inside"==e&&g.options.readMore&&T(n,!0),t.target.innerHTML=r.replace(/<[^>]*>/g,""),g.options.afterTruncate):(n.innerHTML=g.options.originalContent[i],g.options.contentVisibilityState[i]=!0,"inside"==e&&g.options.readMore&&T(n,!0),t.target.innerHTML=a.replace(/<[^>]*>/g,""),g.options.afterExpand)).call(n)}function d(t,e){window.console&&window.console[t]&&window.console[t]("Cuttr: "+e)}return g.expandContent=function(t,e){for(var n=t?document.querySelectorAll(t):g.options.elementsToTruncate,o=0;o<n.length;o++){var i=n[o],r=(i.innerHTML,i.dataset.cuttrIndex),a=i.dataset.cuttrReadmore?i.dataset.cuttrReadless:g.options.readLessText,s=e||g.options.readMoreBtnPosition,d="."+g.options.readMoreBtnSelectorClass,c=void 0;g.options.contentVisibilityState[r]||(i.innerHTML=g.options.originalContent[r],g.options.contentVisibilityState[r]=!0,g.options.readMore&&("inside"==s&&T(i,!0),"after"==s?c=i.nextElementSibling:"inside"==s&&(c=i.querySelector(d)),c)&&(c.innerHTML=a.replace(/<[^>]*>/g,"")),g.options.afterExpand.call(i))}},g.truncateContent=function(t,e){for(var n=t?document.querySelectorAll(t):g.options.elementsToTruncate,o=0;o<n.length;o++){var i=n[o],r=i.innerHTML,a=i.dataset.cuttrIndex,s=i.dataset.cuttrReadmore||g.options.readMoreText,d=e||g.options.readMoreBtnPosition,c="."+g.options.readMoreBtnSelectorClass,l=i.dataset.cuttrLength||g.options.length,u=i.dataset.cuttrEnding||g.options.ending,p=void 0;g.options.contentVisibilityState[a]&&(r=f(i,r.trim(),l,u),i.innerHTML=r,g.options.contentVisibilityState[a]=!1,g.options.readMore&&("inside"==d&&T(i,!0),"after"==d?p=i.nextElementSibling:"inside"==d&&(p=i.querySelector(c)),p)&&(p.innerHTML=s.replace(/<[^>]*>/g,"")),g.options.afterTruncate.call(i))}},g.destroy=function(t,e){g.expandContent(t,e);for(var n=t?document.querySelectorAll(t):g.options.elementsToTruncate,o=0;o<n.length;o++){var i=n[o],r=(i.innerHTML,i.dataset.cuttrIndex),a=e||g.options.readMoreBtnPosition,s="."+g.options.readMoreBtnSelectorClass,d=void 0;g.options.contentVisibilityState[r]=!0,g.options.readMore&&("inside"==a&&T(i,!0),"after"==a?d=i.nextElementSibling:"inside"==a&&(d=i.querySelector(s)),d)&&d.parentNode.removeChild(d),i.classList.remove(g.options.loadedClass),i.removeAttribute(g.options.dataIndex),i=null}},function(){!function(){var t=g.options&&new RegExp("([\\d\\w]{8}-){3}[\\d\\w]{8}|^(?=.*?[A-Y])(?=.*?[a-y])(?=.*?[0-8])(?=.*?[#?!@$%^&*-]).{8,}$").test(g.options.licenseKey)||-1<document.domain.indexOf("cuttr.kulahs.de");if(g.options.elementsToTruncate){!function(t){!t&&c&&(c=!1,d("error","Cuttr.js has a GPLv3 license and it requires a `licenseKey` option. Read about it here:"),d("error","https://github.com/d-e-v-s-k/cuttr-js#options"))}(t),"length"in g.options.elementsToTruncate||(g.options.elementsToTruncate=[g.options.elementsToTruncate]);for(var e=0;e<g.options.elementsToTruncate.length;e++){var n=g.options.elementsToTruncate[e],o=n.innerHTML,i=n.dataset.cuttrLength||g.options.length,r=n.dataset.cuttrEnding||g.options.ending,a=n.dataset.cuttrTitle||g.options.title,s=void 0;n.setAttribute(g.options.dataIndex,e),g.options.originalContent.push(o),s=f(n,o.trim(),i,r),a&&(n.title=n.textContent.trim()),n.innerHTML=s,g.options.contentTruncationState[e]&&(g.options.readMore&&T(n),n.classList+=" "+g.options.loadedClass),g.options.afterTruncate.call(n)}}}.call(this)}(),g}}),window.jQuery&&window.Cuttr&&function(o,i){"use strict";o&&i?o.fn.Cuttr=function(n){return this.each(function(t,e){n=o.extend({},n,{$:o}),o.data(e,"Cuttr")||o.data(e,"Cuttr",new i(e,n))})}:console.log("ERROR - jQuery is required to use the jQuery Cuttr adapter!")}(window.jQuery,window.Cuttr);
//# sourceMappingURL=cuttr.min.js.map
